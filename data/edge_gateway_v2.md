# NeuralNexus Infrastructure: Edge-Gateway-v2

## 1. Service Description
**Edge-Gateway-v2** is the primary ingress point for all external API traffic. It is a high-performance reverse proxy written in Go, responsible for authentication, rate limiting, and request routing. It specifically handles the load balancing for **Nexus-Flash-Lite** (`nexus_flash_lite.md`) and routes heavy compute requests to the Cluster-Onyx queue.

## 2. Configuration
* **Protocol:** HTTP/2 and gRPC.
* **TLS Termination:** TLS 1.3 (Strict).
* **Load Balancing:** Round-robin with least-connections override.

## 3. Rate Limiting & Quotas
To protect backend infrastructure, the gateway enforces strict quotas:
* **Standard Tier:** 5,000 Requests Per Minute (RPM).
* **Enterprise Tier:** 25,000 RPM.
* **Burst Allowance:** 10% over limit for < 30 seconds.
* **Timeout Settings:**
    * Nexus-Flash-Lite: 250ms hard timeout.
    * Nexus-Goliath-v4: 30 seconds hard timeout.

## 4. Failure Modes & Incident Response
Edge-Gateway-v2 is a known single point of failure.
* **Common Issues:** DNS resolution failures, SSL cert expiry, DDoS saturation.
* **Reference:** See `incident_response_playbook.md` for the specific restart procedure ("Playbook Gamma") required when the gateway stalls.
* **Downtime Cost:** Estimated at $45,000 per minute of outage.

## 5. Authentication Migration
The gateway currently supports API Key and OAuth2 workflows. 
* **Note:** Support for tokens generated by **Legacy-Auth-Service** (`legacy_auth_service.md`) is scheduled for removal in Q4. All traffic must migrate to the new JWT standard compatible with `project_orion_roadmap.md`.

## 6. Telemetry
* **Metrics:** Exports Prometheus metrics on `/metrics` endpoint.
* **Tracing:** Distributed tracing ID injected into every header (`X-Request-ID`).